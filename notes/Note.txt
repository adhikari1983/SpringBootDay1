âœ… First, Basic Roles Recap
     Component	                                    Purpose
DTO (EmployeeDTO)	           Transfers data between UI â†” Controller â†” Service. Doesnâ€™t map to database directly.
Entity (EmployeeEntity)	       Represents a database table. Managed by JPA.
DAO (EmployeeDAO)	           Repository layer that talks to DB using Spring Data JPA.
Controller	                   Handles HTTP requests. Sends data to service.
Service	                       Business logic. Coordinates DTO â†” Entity conversion and calls DAO.

com.myapp
â”œâ”€â”€ controller
â”‚   â””â”€â”€ EmployeeController.java        â† controller talks to Service, and Service talks to DAO.
â”œâ”€â”€ dto
â”‚   â””â”€â”€ EmployeeDTO.java               â† carries form/UI data
â”œâ”€â”€ entity
â”‚   â””â”€â”€ EmployeeEntity.java            â† maps to DB table
â”œâ”€â”€ dao
â”‚   â””â”€â”€ EmployeeDAO.java               â† JPA Repository
â”œâ”€â”€ service
â”‚   â”œâ”€â”€ EmployeeService.java           â† interface
â”‚   â””â”€â”€ EmployeeServiceImpl.java       â† business logic, converts DTO â‡„ Entity
â””â”€â”€ SpringBootRunner.java              â† Spring Boot entry point

resources
â””â”€â”€ application.properties

webapp
â”‚â”€â”€ images
â””â”€â”€ WEB-INF
    â””â”€â”€ pages
        â”œâ”€â”€ login.jsp
        â”œâ”€â”€ employeeRegistration.jsp
        â””â”€â”€ registrationStatus.jsp

ğŸ”½ 1. Saving (Registering) Data Flow â€” Frontend â¡ Database

Letâ€™s say a user fills a registration form and submits it.

Step-by-step:
User submits form on employeeRegistration.jsp

Spring MVC Controller receives form data as EmployeeDTO
                public String registerEmployee(@ModelAttribute EmployeeDTO employeeDTO, Model model)
                Controller passes DTO to Service Layer

Service Layer:
                Converts EmployeeDTO â†’ EmployeeEntity

                BeanUtils.copyProperties(employeeDTO, employeeEntity);
                Calls employeeDAO.save(employeeEntity)

DAO Layer (JPA Repository) saves EmployeeEntity to DB
Then,
     Database stores the record
âœ… So for saving, the source of data is EmployeeDTO, and the target is EmployeeEntity.

ğŸŸ¢ Saving Data (Form â¡ DB)
User Input (JSP: employeeRegistration.jsp)
        â”‚
        â–¼
Controller: EmployeeController.java
    â””â”€â”€ @PostMapping("/registration")
        â””â”€â”€ Receives EmployeeDTO from the registration.jsp form
        â”‚
        â–¼
Service: EmployeeServiceImpl.java
    â””â”€â”€ Converts DTO â†’ Entity using BeanUtils
    â””â”€â”€ Calls employeeDAO.save(entity)
        â”‚
        â–¼
Repository (DAO): EmployeeDAO.java
    â””â”€â”€ Extends JpaRepository<EmployeeEntity, Integer>
        â”‚
        â–¼
Database: Demo_Table (mapped by EmployeeEntity)


ğŸ”¼ 2. Fetching (Reading) Data Flow â€” Database â¡ UI
Letâ€™s say you want to show employee details on a JSP.

Step-by-step:
Controller calls EmployeeService.getEmployeeById(id)

Service Layer:
            Fetches EmployeeEntity from DB using DAO

            EmployeeEntity entity = employeeDAO.findById(id).orElse(null);
            Converts EmployeeEntity â†’ EmployeeDTO

BeanUtils.copyProperties(entity, dto);
Service returns DTO to Controller

Controller adds DTO to Model

model.addAttribute("employee", employeeDTO);

JSP page renders using the employee attribute
âœ… So for returning data, the source is EmployeeEntity, and the target is EmployeeDTO.

ğŸ”µ Fetching Data (DB â¡ JSP)
Request (e.g., /employeeDetails?id=101)
        â”‚
        â–¼
Controller: EmployeeController.java
    â””â”€â”€ @GetMapping("/employeeDetails")
        â””â”€â”€ Calls service to fetch EmployeeEntity
        â”‚
        â–¼
Service: EmployeeServiceImpl.java
    â””â”€â”€ Calls employeeDAO.findById(id)
    â””â”€â”€ Converts Entity â†’ DTO using BeanUtils
        â”‚
        â–¼
Controller adds DTO to Model
        â”‚
        â–¼
JSP View: employeeDetails.jsp
    â””â”€â”€ Displays data from model attribute "employee"

The correct flow is:
                        Controller â‡„ DTO â‡„ Service â‡„ Entity â‡„ DAO â‡„ Database

âœ… For Saving (Form to DB):
                            [Form (JSP)] â†’ EmployeeDTO â†’ Controller â†’ Service â†’ EmployeeEntity â†’ DAO â†’ Database

âœ… For Fetching (DB to UI):
                            Database â†’ DAO â†’ EmployeeEntity â†’ Service â†’ EmployeeDTO â†’ Controller â†’ JSP (via Model)


